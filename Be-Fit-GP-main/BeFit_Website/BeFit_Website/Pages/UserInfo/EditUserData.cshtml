@page
@model BeFit_Website.Pages.UserInfo.EditUserModel
@{
    <link href="~/css/edituserdata.css" rel="stylesheet" />

    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index"><img src="~/photos/4.png" width="80" draggable="false" /></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" asp-page="/Main/Home">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">

                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle"  data-toggle="dropdown" aria-expanded="false">Profile</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" asp-page="/UserInfo/EditUserData">Edit Profile</a>

                        <a class="dropdown-item" asp-page="/Main/UserFeedbacks">feedback</a>
                        <a class="dropdown-item" asp-page="/UserInfo/Login">Log out</a>

                    </div>
                </li>
            </ul>

        </div>
    </nav>
    <main role="main">
  
        <!-- Main jumbotron for a primary marketing message or call to action -->
        <div class="jumbotron">
      
        </div>
  
        <div class="container">
            <!-- Example row of columns -->
            <form method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-4 order-md-2 mb-4">
                    <h4 class="d-flex justify-content-between align-items-center mb-3">
                        <span class="text-muted head">IMAGE</span>
                    </h4>

                        <ul class="list-group mb-3">
                            <li class="list-group-item d-flex justify-content-between lh-condensed">
                            <div class="col-md-4 profile-pic">
                                    @if (Model.user.ProfileUrl == null)
                                    {
                                        <img src="https://www.kindpng.com/picc/m/24-248394_user-icon-hd-png-download.png" id="output" width="200"
                                             style="width: 165px;height: 165px;box-shadow: 0 0 10px 0 rgba(255,255,255,.35);border-radius: 100px;z-index: 0;border: 2px solid gray;" />
                                    }else {
                                    <img src="@Model.user.ProfileUrl" id="output" width="200"
                                     style="width: 165px;height: 165px;box-shadow: 0 0 10px 0 rgba(255,255,255,.35);border-radius: 100px;z-index: 0; border: 2px solid gray;" />
                                    }
                            </div>
                        </ul>
                        <div class="modal-footer">
                            <label for="file-upload" class="btn btn-secondary" style="background:linear-gradient(to top, #1488cc, #2b32b2);">Change image</label>
                            <input type="file" id="file-upload" asp-for="user.ProfilePhoto" style="display:none;" data-dismiss="modal" onchange="loadFile(event)">
                            <!--<button id="SaveBtn" type="button" class="btn btn-primary">Save changes</button>-->
                        </div>

                </div>
                <div class="col-md-8 order-md-1">
                    <h4 class="mb-3 head">Edit Profile</h4>

                        <div class="mb-3">
                            <label for="username">User Name</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                </div>
                                <input type="text" class="BtnBtn" id="UserName" placeholder="User Name" asp-for="user.UserName" required>
                                <div class="invalid-feedback" style="width: 100%;">
                                Your User Name is required.
                                </div>
                            </div>
                            </div>
                        <div class="mb-3">
                        <label for="Email">Email</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                    <span class="input-group-text">&#64;</span>
                            </div>
                            <input type="email" class="BtnBtnV2" id="Email" placeholder="Email" asp-for="user.Email" required>
                            <div class="invalid-feedback" style="width: 100%;">
                            Your Email is required.
                            </div>
                        </div>
                        </div>
                        <div class="mb-3">
                            <label for="Password">Password</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                </div>
                                <input type="password" class="BtnBtn" id="Password" placeholder="Password" asp-for="user.Password" minlength="8" required>
                                <div class="invalid-feedback" style="width: 100%;">
                                Your Password is required.
                                </div>
                            </div>
                            </div>
                           <!-- <a href="UserMacros.html"><button id="SaveBtn" class="btn btn-primary btn-lg btn-block" asp-page="/UserInfo/EditUserMacros">Edit Your Macros</button></a> -->
                            <a class="btn btn-secondary" asp-page="/UserInfo/EditUserMacros">Edit Macros</a>
                        <button type="submit" asp-page-handler="EditUser" id="SaveBtn" class="btn btn-primary" style="background:linear-gradient(to top, #1488cc, #2b32b2);">Save</button>
                </div>
            </div>
            </form>
      
      
        </div>
  
      <hr>
  
  
  </main>
}
<script src="~/js/edituserdata.js"></script>

`@if (@Model.Msg != null)
{
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    if (@Model.Status == "error")
    {
        <script type="text/javascript">
            Swal.fire({
                icon: 'error',
                title: '@Model.Msg',
                showConfirmButton: true
            })
        </script>
    }
}
@section Scripts{
    @{
        <partial name="_NavBar" />
    }
}

